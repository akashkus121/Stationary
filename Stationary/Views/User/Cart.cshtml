@model List<Stationary.Models.Cart>

@{
    ViewData["Title"] = "Your Cart";
}

<link rel="stylesheet" href="~/css/cart.css" />

<div class="cart-container">
    <div class="cart-header">        <a href="@Url.Action("Index", "User")" class="back-to-products-btn">
            <svg width="16" height="16" fill="currentColor" viewBox="0 0 24 24">
                <path d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.42-1.41L7.83 13H20v-2z" />
            </svg>
            Back to Products
        </a>
    </div>
    <h1 class="cart-title">Your Cart</h1>
    @if (Model != null && Model.Any())
    {
        <div class="cart-items">
            @foreach (var item in Model)
            {
                <div class="cart-item">
                    <div class="cart-item-image">
                        @if (!string.IsNullOrEmpty(item.Product.ImagePath))
                        {
                            <img src="@item.Product.ImagePath" alt="@item.Product.Name" class="product-image" />
                        }
                        else
                        {
                            <div class="product-image-placeholder">
                                <svg fill="currentColor" viewBox="0 0 24 24" width="48" height="48">
                                    <path d="M21 19V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2zM8.5 13.5l2.5 3.01L14.5 12l4.5 6H5l3.5-4.5z" />
                                </svg>
                            </div>
                        }
                    </div>
                    <div class="cart-item-details">
                        <h4 class="cart-item-name">@item.Product.Name</h4>
                        <p class="cart-item-category">@item.Product.Category</p>
                        <p class="cart-item-price">$@item.Product.Price.ToString("F2")</p>
                        <div class="quantity-controls">
                            <button class="decrease-btn" data-id="@item.ProductId">-</button>
                            <span class="quantity" id="qty-@item.ProductId">@item.Quantity</span>
                            <button class="increase-btn" data-id="@item.ProductId">+</button>
                        </div>
                        <button class="remove-btn" data-id="@item.ProductId">Remove</button>
                    </div>
                </div>
            }
        </div>
        <div class="cart-footer">
            <a href="@Url.Action("Checkout", "User")" class="checkout-btn">Proceed to Checkout</a>
        </div>
    }
    else
    {
        <div class="empty-cart">
            <svg class="empty-cart-icon" fill="currentColor" viewBox="0 0 24 24">
                <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z" />
            </svg>
            <h3>Your cart is empty</h3>
            <p>Add some products to your cart and start shopping!</p>
            <a href="@Url.Action("Index", "User")" class="continue-shopping-btn">Continue Shopping</a>
        </div>
    }
</div>
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

<script src="~/js/cart.js"></script>