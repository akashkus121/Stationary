@model IEnumerable<Stationary.Models.Product>
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Stationary Products - Admin Panel</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link href="~/css/site.css" rel="stylesheet" />
</head>
<body>
    <div class="container">
        <div class="header">
            <h2>
                <i class="fas fa-clipboard-list"></i>
                Product Management
            </h2>
            <a href="@Url.Action("Create", "Admin")" class="btn-primary">
                <i class="fas fa-plus"></i>
                Add New Product
            </a>
            <a href="@Url.Action("Reports", "Admin")" class="btn-primary" style="margin-left:8px; background: linear-gradient(135deg, #4e73df, #224abe);">
                <i class="fas fa-chart-line"></i>
                Reports
            </a>
            <a href="@Url.Action("InventoryUpload", "Admin")" class="btn-primary" style="margin-left:8px; background: linear-gradient(135deg, #1cc88a, #17a673);">
                <i class="fas fa-file-import"></i>
                Import Inventory
            </a>
        </div>

        <div class="table-container">
            @if (TempData["Error"] != null)
            {
                <div style="margin-bottom:10px; padding:10px; border:1px solid #f5c6cb; background:#f8d7da; color:#721c24; border-radius:8px;">
                    <i class="fas fa-times-circle"></i>
                    @TempData["Error"]
                </div>
            }
            @if (TempData["Success"] != null)
            {
                <div style="margin-bottom:10px; padding:10px; border:1px solid #c3e6cb; background:#d4edda; color:#155724; border-radius:8px;">
                    <i class="fas fa-check-circle"></i>
                    @TempData["Success"]
                </div>
            }
            @if (ViewBag.InventorySpOk != null && ViewBag.InventorySpOk == false)
            {
                <div style="margin-bottom:10px; padding:10px; border:1px solid #f1c40f; background:#fff3cd; color:#856404; border-radius:8px;">
                    <i class="fas fa-exclamation-triangle"></i>
                    @ViewBag.InventorySpMsg
                </div>
            }
            @if (Model != null && Model.Any())
            {
                <table class="products-table">
                    <thead>
                        <tr>
                            <th><i class="fas fa-tag"></i> Product Name</th>
                            <th><i class="fas fa-folder"></i> Category</th>
                            <th><i class="fas fa-dollar-sign"></i> Price</th>
                            <th><i class="fas fa-boxes-stacked"></i> Stock</th>
                            <th><i class="fas fa-image"></i> Image</th>
                            <th><i class="fas fa-cogs"></i> Actions</th>
                        </tr>
                    </thead>
                    <tbody>
                        @foreach (var item in Model)
                        {
                            <tr>
                                <td class="product-name">@item.Name</td>
                                <td><span class="product-category">@item.Category</span></td>
                                <td class="product-price">@item.Price</td>
                                <td>
                                    <span class="@(item.StockQuantity <= item.LowStockThreshold ? "badge badge-danger" : "badge badge-success")">
                                        @item.StockQuantity
                                    </span>
                                </td>
                                <td>
                                    <img src="@item.ImagePath" alt="@item.Name" class="product-image"
                                         onerror="handleImageError(this)" />
                                </td>
                                <td>
                                    <div class="actions">
                                        @Html.ActionLink("Edit", "Edit", new { id = item.Id }, new { @class = "action-btn edit-btn" })
                                        @Html.ActionLink("Delete", "Delete", new { id = item.Id }, new { @class = "action-btn delete-btn", onclick = "return confirmDelete()" })
                                    </div>
                                </td>
                            </tr>
                        }
                    </tbody>
                </table>
            }
            else
            {
                <div class="empty-state">
                    <i class="fas fa-box-open"></i>
                    <h3>No Products Found</h3>
                    <p>Start by adding your first stationary product to the inventory.</p>
                    <a href="@Url.Action("Create", "Admin")" class="btn-primary">
                        <i class="fas fa-plus"></i>
                        Add First Product
                    </a>
                </div>
            }
        </div>
    </div>

    <script src="~/js/products.js"></script>
</body>
</html>
