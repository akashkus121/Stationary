@model IEnumerable<Stationary.Services.OcrInventoryItem>
@{
	ViewData["Title"] = "Import Inventory";
}
<link rel="stylesheet" href="~/css/reports.css" />
<div class="report-container">
	<div class="report-header">
		<div class="title-group">
			<h2>Import Inventory (OCR/PDF)</h2>
			<p class="subtitle">Upload a supplier bill (PDF or image). We'll extract items and increase stock.</p>
		</div>
	</div>
	@if (ViewBag.InventorySpOk != null && ViewBag.InventorySpOk == false)
	{
		<div style="margin-bottom:10px; padding:10px; border:1px solid #f1c40f; background:#fff3cd; color:#856404; border-radius:8px;">
			<i class="fas fa-exclamation-triangle"></i>
			@ViewBag.InventorySpMsg
		</div>
	}

	<form asp-action="InventoryUpload" asp-controller="Admin" method="post" enctype="multipart/form-data" class="date-form" style="margin-bottom:12px;">
		<input type="file" name="file" accept="application/pdf,image/*" required />
		<input type="number" name="defaultThreshold" placeholder="Low stock threshold (default 5)" min="0" />
		<button type="submit" class="btn btn-primary">Upload & Process</button>
		@if (TempData["ImportMessage"] != null)
		{
			<span style="margin-left:8px;">@TempData["ImportMessage"]</span>
		}
	</form>

	@if (Model != null && Model.Any())
	{
		<div class="table-wrapper">
			<table class="report-table">
				<thead>
					<tr>
						<th>Product</th>
						<th>Quantity</th>
					</tr>
				</thead>
				<tbody>
					@foreach (var r in Model)
					{
						<tr>
							<td>@r.ProductName</td>
							<td>@r.Quantity</td>
						</tr>
					}
				</tbody>
			</table>
		</div>
	}
</div>